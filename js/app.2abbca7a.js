(function(){"use strict";var t={3507:function(t,e,i){var l=i(8935),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("h1",[t._v("todoList")]),i("MyHeader",{attrs:{addList:t.addList,lists:t.lists}}),i("MyList",{attrs:{checkList:t.checkList,lists:t.lists}}),i("MyFooter",{attrs:{checkAll:t.checkAll,lists:t.lists,clearAll:t.clearAll}})],1)},n=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-header"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"输入任务名，回车确认"},domProps:{value:t.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add.apply(null,arguments)},input:function(e){e.target.composing||(t.title=e.target.value)}}})])},o=[],a=i(562),c={name:"MyHeader",props:["addList","lists"],data(){return{title:""}},methods:{add(){if(!this.title.trim())return alert("输入不能为空");const t={id:(0,a.x0)(),title:this.title,done:!1};this.addList(t),this.title=""}}},u=c,d=i(1001),h=(0,d.Z)(u,r,o,!1,null,"2fbba8a1",null),f=h.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lis-footer"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isAll,expression:"isAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isAll)?t._i(t.isAll,null)>-1:t.isAll},on:{change:function(e){var i=t.isAll,l=e.target,s=!!l.checked;if(Array.isArray(i)){var n=null,r=t._i(i,n);l.checked?r<0&&(t.isAll=i.concat([n])):r>-1&&(t.isAll=i.slice(0,r).concat(i.slice(r+1)))}else t.isAll=s}}}),t._v("全选 "),i("span",[t._v("已选"+t._s(t.doneList)+"/"+t._s(t.total))]),i("button",{on:{click:t.clearAll}},[t._v("清除")])])])},m=[],v={name:"MyFooter",props:["clearAll","lists"],computed:{total(){return this.lists.length},doneList(){return this.lists.reduce(((t,e)=>t+(e.done?1:0)),0)},isAll:{get(){return this.doneList===this.total&&this.total>0},set(t){this.$bus.$emit("checkAll",t)}}}},y=v,b=(0,d.Z)(y,p,m,!1,null,"7ad8f714",null),k=b.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"list-main"},t._l(t.lists,(function(t,e){return i("MyItem",{key:t.id,attrs:{l:t}})})),1)},_=[],g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{on:{click:function(e){return t.handleCheck(t.l.id)}}},[i("label",[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.l.done}}),i("span",[t._v(t._s(t.l.title))])]),i("button",{on:{click:t.handleDelete}},[t._v("删除")])])},L=[],$={name:"MyItem",props:["l","deleteList"],methods:{handleCheck(){this.l.done=!this.l.done},handleDelete(t){t.stopPropagation(),this.$bus.$emit("deleteList",this.l.id)}}},x=$,O=(0,d.Z)(x,g,L,!1,null,"2e149b92",null),M=O.exports,w={name:"MyList",components:{MyItem:M},props:["lists"]},E=w,C=(0,d.Z)(E,A,_,!1,null,"1c41552b",null),Z=C.exports,j={name:"App",components:{MyHeader:f,MyFooter:k,MyList:Z},data(){return{lists:JSON.parse(localStorage.getItem("lists"))||[]}},methods:{addList(t){const e=[];this.lists.forEach((t=>{e.push(t.title)})),e.includes(t.title)?alert(`${t.title}已存在`):this.lists.unshift(t)},checkList(){this.lists.forEach((t=>{t.done=!t.done}))},checkAll(t){this.lists.forEach((e=>{e.done=t}))},clearAll(){let t=this.lists.filter((t=>1==t.done));t.length?confirm("确定删除选中?")&&(this.lists=this.lists.filter((t=>0==t.done))):alert("未选中！！！")},deleteList(t){confirm("确定删除这一项？")&&(this.lists=this.lists.filter((e=>e.id!==t)))}},watch:{lists:{deep:!0,handler(t){localStorage.setItem("lists",JSON.stringify(t))}}},mounted(){this.$bus.$on("deleteList",this.deleteList),this.$bus.$on("checkAll",this.checkAll)},beforeDestroy(){this.$bus.$off("deleteList"),this.$bus.$off("checkAll")}},P=j,I=(0,d.Z)(P,s,n,!1,null,null,null),F=I.exports;l.Z.config.productionTip=!1,new l.Z({render:t=>t(F),beforeCreate(){l.Z.prototype.$bus=this}}).$mount("#app")}},e={};function i(l){var s=e[l];if(void 0!==s)return s.exports;var n=e[l]={exports:{}};return t[l](n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,l,s,n){if(!l){var r=1/0;for(u=0;u<t.length;u++){l=t[u][0],s=t[u][1],n=t[u][2];for(var o=!0,a=0;a<l.length;a++)(!1&n||r>=n)&&Object.keys(i.O).every((function(t){return i.O[t](l[a])}))?l.splice(a--,1):(o=!1,n<r&&(r=n));if(o){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[l,s,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var l in e)i.o(e,l)&&!i.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,l){var s,n,r=l[0],o=l[1],a=l[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(a)var u=a(i)}for(e&&e(l);c<r.length;c++)n=r[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(u)},l=self["webpackChunkdemo"]=self["webpackChunkdemo"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=i.O(void 0,[998],(function(){return i(3507)}));l=i.O(l)})();
//# sourceMappingURL=app.2abbca7a.js.map